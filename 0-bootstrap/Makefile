# Makefile

# "PHONY" means these are commands, not files
.PHONY: up down clean

# Setup
up:
	@echo "ðŸš€ Provisioning Infrastructure..."
	./podman-setup.sh
	@echo "ðŸ“¦ Creating Kubernetes Cluster..."
	# We use the Podman provider explicitly
	KIND_EXPERIMENTAL_PROVIDER=podman kind create cluster --config kind-config.yaml
	@echo "âœ… Metal Layer Complete. Ready for Core Services."

# Tear everything down
down:
	kind delete cluster
	podman machine stop
	@echo "âœ… Cluster succesfully deleted and stopped."

# The "Nuke it" option (useful when things break)
clean: down
	podman machine rm -f
	@echo "âœ… Cluster cleaned."
